/* jQuery Shortify v0.1.2 */(function(e){e.fn.shortify=function(t){var n=e.extend({},{service:"googl",apikey:""},t);var r=function(e){var t=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig;return t.test(e)};var i=function(t){var i={};var s=i["longUrl"]=t;if(n.apikey!==""){i["key"]=n.apikey}if(r(t)){e.ajax({type:"POST",url:"https://www.googleapis.com/urlshortener/v1/url",data:JSON.stringify(i),async:false,dataType:"json",contentType:"application/json; charset=utf-8",success:function(e){s=e.id}})}return s};var s=function(t){var i={};var s=i["longUrl"]=t;if(r(t)){e.ajax({type:"GET",url:"https://api-ssl.bitly.com/v3/shorten",data:{longUrl:t,access_token:n.apikey},async:false,dataType:"json",success:function(e){if(e.status_code!==200){console.error("Bitly Error "+e.status_code+" : "+e.status_txt)}else{s=e.data.url}}})}return s};this.each(function(){if(e(this).is("a")){if(undefined==t){t=n}if(t.service=="googl"){e(this).attr("href",function(){return i(e(this).attr("href"))})}else if(t.service=="bitly"){e(this).attr("href",function(){return s(e(this).attr("href"))})}}});return this}})(jQuery)
